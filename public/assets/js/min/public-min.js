function spuCreateCookie(t,i,e){if(e){var n=new Date;n.setTime(n.getTime()+24*e*60*60*1e3);var o="; expires="+n.toGMTString()}else var o="";document.cookie=t+"="+i+o+"; path=/"}function spuReadCookie(t){for(var i=t+"=",e=document.cookie.split(";"),n=0;n<e.length;n++){for(var o=e[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(i))return o.substring(i.length,o.length)}return null}function googleCB(t){if("on"==t.state){var i=jQuery(".spu-gogl").data("box-id");i&&SPU.hide(i)}}function closeGoogle(t){if("confirm"==t.type){var i=jQuery(".spu-gogl").data("box-id");i&&SPU.hide(i)}}jQuery(window).load(function(){window.SPU=function($){function t(t){var i=a[t],e=$(window).width(),n=$(window).height(),o=i.height(),r=i.width();i.css({position:"fixed",top:n/2-o/2,left:e/2-r/2})}function i(t){var i=$(t).find(".spu-facebook");if(i.length){var e=i.find(".fb-like > span").width();if(0==e){var n=i.find(".fb-like").data("layout");i.append("box_count"==n?'<style type="text/css"> #'+$(t).attr("id")+" .fb-like iframe, #"+$(t).attr("id")+" .fb_iframe_widget span, #"+$(t).attr("id")+" .fb_iframe_widget{ height: 63px !important;width: 80px !important;}</style>":'<style type="text/css"> #'+$(t).attr("id")+" .fb-like iframe, #"+$(t).attr("id")+" .fb_iframe_widget span, #"+$(t).attr("id")+" .fb_iframe_widget{ height: 20px !important;width: 80px !important;}</style>")}}}function e(i,e){var n=a[i],o=$("#spu-bg-"+i),r=n.data("bgopa");if(n.is(":animated"))return!1;if(e===!0&&n.is(":visible")||e===!1&&n.is(":hidden"))return!1;if(e===!1){var s=parseInt(n.data("cookie"));s>0&&spuCreateCookie("spu_box_"+i,!0,s)}else n.hasClass("spu-centered")&&t(i);var d=n.data("spuanimation");return"fade"===d?n.fadeToggle("slow"):n.slideToggle("slow"),e===!0&&r>0?o.fadeIn():o.fadeOut(),e}var n=$(window).height(),o=spuvar.is_admin,a=[];return $(".spu-content").children().first().css({"margin-top":0,"padding-top":0}).end().last().css({"margin-bottom":0,"padding-bottom":0}),$(".spu-box").each(function(){spuvar.safe_mode&&$(this).prependTo("body");var t=$(this),r=t.data("trigger"),s=0,d=1===parseInt(t.data("test-mode")),u=t.data("box-id"),f=1===parseInt(t.data("auto-hide")),c=parseInt(t.data("seconds-close")),p=parseInt(t.data("trigger-number"),10),l="percentage"==r?parseInt(t.data("trigger-number"),10)/100:.8,h=l*$(document).height();i(t),$(".spu-google").width($(".spu-google").width()-20),$(".spu-twitter").width($(".spu-twitter").width()-12);var g=0,w=0,m=$(this).find(".spu-content").width(),b=t.data("total");b&&!spuvar.disable_style&&($(this).find(".spu-shortcode").each(function(){g+=$(this).width()}),w=m-g),w>0&&($(this).find(".spu-shortcode").each(function(){3==b?$(this).css("margin-left",w/(b-1)):$(this).css("margin-left",w/2)}),2==b?$(this).find(".spu-shortcode").last().css("margin-left",0):3==b&&$(this).find(".spu-shortcode").first().css("margin-left",0)),$(document).keyup(function(t){27==t.keyCode&&e(u,!1)});var v=navigator.userAgent,y=v.match(/iPad/i)||v.match(/iPhone/i)?"touchstart":"click";$("body").on(y,function(t){t.which&&e(u,!1)}),$("body").on(y,".spu-box",function(t){t.stopPropagation()}),t.hide().css("left",""),a[u]=t;var x=function(){s&&clearTimeout(s),s=window.setTimeout(function(){var t=$(window).scrollTop(),i=t+n>=h;i?(f||$(window).unbind("scroll",x),e(u,!0)):e(u,!1)},100)},_=function(){s&&clearTimeout(s),s=window.setTimeout(function(){e(u,!0)},1e3*p)},k=spuReadCookie("spu_box_"+u);if((void 0==k||o&&d)&&("seconds"==r?_():($(window).bind("scroll",x),x()),window.location.hash&&window.location.hash.length>0)){var T=window.location.hash,C;T.substring(1)===t.attr("id")&&setTimeout(function(){e(u,!0)},100)}t.find(".spu-close").click(function(){e(u,!1),"percentage"==r&&$(window).unbind("scroll",x)}),$('a[href="#'+t.attr("id")+'"]').click(function(){return e(u,!0),!1}),t.find(".gform_wrapper form").addClass("gravity-form"),t.find('form:not(".wpcf7-form, .gravity-form")').submit(function(t){t.preventDefault();var i=!0,n=$(this),o=n.serialize(),a=n.attr("action"),r=function(t){var i=$(t).filter("#spu-"+u).html();$("#spu-"+u).html(i),setTimeout(function(){e(u,!1)},2e3)};return request(o,a,r,"","html"),i}),$("body").on("mailsent.wpcf7",function(){e(u,!1)}),$(document).on("gform_confirmation_loaded",function(){e(u,!1)})}),{show:function(t){return e(t,!0)},hide:function(t){return e(t,!1)}}}(window.jQuery)}),jQuery(function($){function t(){FB.Event.subscribe("edge.create",function(t,i){var e=$(i).parents(".spu-box").data("box-id");e&&(SPU.hide(e),SPU.track(e,!0))}),e=!0,clearInterval(n)}function i(t){var i=$(t.target).parents(".spu-box").data("box-id");i&&SPU.hide(i)}var e=!1,n=setInterval(function(){"undefined"==typeof FB||e||t()},1e3);"undefined"!=typeof twttr&&twttr.ready(function(t){t.events.bind("tweet",i),t.events.bind("follow",i)})});